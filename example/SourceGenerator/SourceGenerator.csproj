<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <OutputType>Exe</OutputType>
    <TargetFramework>net5.0</TargetFramework>
      <CompilerGeneratedFilesOutputPath>$(MSBuildProjectDirectory)/generated</CompilerGeneratedFilesOutputPath>
      <EmitCompilerGeneratedFiles>false</EmitCompilerGeneratedFiles>
  </PropertyGroup>
    <ItemGroup>
        <ProjectReference Include="..\..\gen\YS.Knife.Generator\YS.Knife.Generator.csproj" OutputItemType="Analyzer" ReferenceOutputAssembly="true" />
    </ItemGroup>
    <ItemGroup>
      <Compile Remove="generated\YS.Knife.Generator\YS.Knife.AutoNotifyGenerator\**" />
      <Compile Remove="generated\**" />
    </ItemGroup>
    <ItemGroup>
      <EmbeddedResource Remove="generated\YS.Knife.Generator\YS.Knife.AutoNotifyGenerator\**" />
      <EmbeddedResource Remove="generated\**" />
    </ItemGroup>
    <ItemGroup>
      <None Remove="generated\YS.Knife.Generator\YS.Knife.AutoNotifyGenerator\**" />
      <None Remove="generated\**" />
    </ItemGroup>
    <Target Name="ExcludeGenerated" BeforeTargets="AssignTargetPaths">
        <ItemGroup>
            <Generated Include="generated/**/*.cs" />
            <Compile Remove="@(Generated)" />
        </ItemGroup>
        <Delete Files="@(Generated)" />
    </Target>
</Project>
